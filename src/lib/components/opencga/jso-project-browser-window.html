<polymer-element name="jso-project-browser-window" attributes="userData selectedProject selectedStudy studies selectionMode bioformat">
    <template>
        <style>
            :host {
            }

            .labelSelection {
                margin-left: 10px;
            }

            jso-project-browser {
                border: 1px solid #d3d3d3;
                height: 400px;
                font-size: 13px;
            }

        </style>
        <link rel="stylesheet" href="../jso-style.css">
        <template if="{{selectionMode == 'file'}}">
            <div style="color:#666">
                The files must be on the server to select them.<br>
                You can upload files using the button
                <font-awesome style="color:#445D76;font-size:16px;" icon="cloud-upload"></font-awesome>
                inside file browser.
            </div>
        </template>
        <template if="{{selectionMode == 'folder'}}">
            <div style="color:#666">
                You can create folders using the button
                <font-awesome style="color:#445D76;font-size:16px;" icon="folder-o"></font-awesome>+
                inside file browser.
            </div>
        </template>

        <div horizontal layout>
            <div class="button action" style="width:150px;" on-click="{{buttonHandler}}">File browser</div>
            <div id="selection" style="line-height: 25px;" class="labelSelection"> {{selectedStudy.name}}/{{selectedFile.path}}</div>
        </div>
        <template if="{{ showBrowser }}">
            <br>
            <jso-project-browser
                    id="jsoProjectBrowser"
                    studies="{{studies}}"
                    selectedProject="{{selectedProject}}"
                    selectedStudy="{{selectedStudy}}"
                    selectionMode="{{selectionMode}}"
                    on-ok="{{selectHandler}}"
                    bioformat="{{bioformat}}"
                    on-cancel="{{handleCancel}}"
                    >
            </jso-project-browser>
        </template>

    </template>
    <script>
        Polymer({
            ready: function () {
                this.showBrowser = false;
                //this.bioformat = "";
            },
            buttonHandler: function () {
                //this.$.jsoProjectBrowser.hidden = !this.$.jsoProjectBrowser.hidden;
                this.showBrowser = !this.showBrowser;
            },
            selectHandler: function (e) {
                this.showBrowser = false;
                this.selectedFile = e.detail.file;
            },
            handleCancel: function (e) {
                this.selectedFile = undefined;
                this.showBrowser = false;
            }
        });
    </script>
</polymer-element>
