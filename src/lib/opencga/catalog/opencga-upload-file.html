<dom-module id="opencga-upload-file">
    <template>
        <style is="custom-style" include="jso-styles"></style>
        <style>
            .file {
                visibility: hidden;
                position: absolute;
            }

        </style>

        <div>
            <div>
                <form>
                    <div class="form-group row">
                        <label for="inputFile" class="col-sm-2 col-form-label">File</label>
                        <div class="col-sm-10">
                            <input type="file" class="file">
                            <div class="input-group">
                                <input type="text" class="form-control" id="inputFile">
                                <span class="input-group-btn">
                                    <button class="browse btn btn-primary" type="button">...</button>
                                </span>
                            </div>
                        </div>
                    </div>

                    <fieldset class="form-group row">
                        <label class="col-form-legend col-sm-2">Type</label>
                        <div class="col-sm-10">
                            <div class="form-check">
                                <label class="form-check-label">
                                    <input class="form-check-input" type="radio" name="bioformat" id="vcf" value="VCF">VCF
                                </label>
                            </div>
                            <div class="form-check">
                                <label class="form-check-label">
                                    <input class="form-check-input" type="radio" name="bioformat" id="bam" value="BAM">BAM
                                </label>
                            </div>
                            <div class="form-check">
                                <label class="form-check-label">
                                    <input class="form-check-input" type="radio" name="bioformat" id="others" value="Others">Others
                                </label>
                            </div>
                        </div>
                    </fieldset>

                    <div class="form-group row">
                        <label for="studyDropdown" class="col-sm-2 col-form-label">Study</label>
                        <div class="col-sm-10">
                            <div class="dropdown">
                                <button class="btn btn-default dropdown-toggle" type="button" id="studyDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                    Studies
                                    <span class="caret"></span>
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="studyDropdown" on-click="selectSegregation">
                                    <template is="dom-repeat" items="{{studies}}">
                                        <li><a>{{item}}</a></li>
                                    </template>
                                </ul>
                            </div>
                        </div>
                    </div>


                    <div class="form-group row">
                        <label for="pathInput" class="col-sm-2 col-form-label">Path</label>
                        <div class="col-sm-10">
                            <input type="text" class="form-control" id="pathInput">
                        </div>
                    </div>

                    <div class="form-group row">
                        <div class="offset-sm-2 col-sm-10">
                            <button type="submit" class="btn btn-primary">Upload</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </template>
    <script>
        Polymer({
            is: 'opencga-upload-file',
            ready: function () {
                $(document).on('click', '.browse', function(){
                    var file = $(this).parent().parent().parent().find('.file');
                    file.trigger('click');
                });
                $(document).on('change', '.file', function(){
                    $(this).parent().find('.form-control').val($(this).val().replace(/C:\\fakepath\\/i, ''));
                });
            }
        });
    </script>
</dom-module>