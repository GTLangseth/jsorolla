<dom-module id="beacon-network">
    <template>
        <style is="custom-style" include="jso-styles"></style>

        <div>
            <table class="table table-bordered" style="width: 30%">
                <thead style="background-color: #eee">
                <tr>
                    <th>Host</th>
                    <th>Response</th>
                </tr>
                </thead>
                <tbody>
                <template is="dom-repeat" items="{{hosts}}">
                    <tr>
                        <td>{{item.name}}</td>
                        <td>{{item.response}}</td>
                    </tr>
                </template>
                </tbody>
            </table>
        </div>

    </template>

    <script>
        Polymer({
            is: 'beacon-network',
            properties: {
                hosts: {
                    type: Array
                },
                search: {
                    type: String,
                    observer: 'searchBeaconNetwork'
                },
                variant: {
                    type: String
                }
            },
            searchBeaconNetwork: function () {
                if (this.variant.split(':').length > 0) {
                    let hosts = this.hosts;
                    for (let i = 0; i < hosts.length; i++) {
                        if (this.variant.split(':').length > 2) {
                            let chromosome = variant[0];
                            let position = variant[1];
                            let reference = variant[2];
                            let alternate = variant[3];

// url to search : https://beacon-network.org/api/responses?allele=C&beacon=%5Bcosmic%5D&chrom=1&pos=99999&ref=GRCh37&referenceAllele=A
//                    let xhr = new XMLHttpRequest();
//                    let url = "https://beacon-network.org/api/responses";

                        }

                    }
                }
            }
        });
    </script>
</dom-module>