function Event(a){this._sender=a;this._listeners=[]}Event.prototype={addEventListener:function(a){return this._listeners.push(a)-1},removeEventListener:function(a){this._listeners.splice(a,1)},notify:function(a){for(var c=0;c<this._listeners.length;c++)this._listeners[c](this._sender,a)}};
var DOM={createNewElement:function(a,c,b){for(var a=document.createElement(a),d=0;d<b.length;d++)a.setAttribute(b[d][0],b[d][1]);c.appendChild(a);return a},createTextNode:function(a,c){var b=document.createTextNode(a);c.appendChild(b);return b},removeChilds:function(a){for(a=document.getElementById(a);0<a.childNodes.length;)a.removeChild(a.childNodes[0])},select:function(a){return document.getElementById(a)}},Colors=new function(){function a(){var c=0,b=0,d=0,e=0,g=0,h=0;this.SetRGB=function(a,f,
j){c=a/255;b=f/255;d=j/255;a=Math.max(Math.max(c,b),d);f=Math.min(Math.min(c,b),d);h=a;g=0;0!=a&&(g=1-f/a);e=0;f!=a&&(f=a-f,e=c==a?(b-d)/f:b==a?2+(d-c)/f:4+(c-b)/f,e*=60,0>e&&(e+=360))};this.Red=function(){return Math.round(255*c)};this.Green=function(){return Math.round(255*b)};this.Blue=function(){return Math.round(255*d)};this.SetHSV=function(a,f,j){e=a;g=f;h=j;d=b=c=h;if(!(0==h||0==g)){var f=e/60,a=Math.floor(f),i=f-a,f=h*(1-g),j=h*(1-g*i),i=h*(1-g*(1-i));switch(a){case 0:c=h;b=i;d=f;break;case 1:c=
j;b=h;d=f;break;case 2:c=f;b=h;d=i;break;case 3:c=f;b=j;d=h;break;case 4:c=i;b=f;d=h;break;default:c=h,b=f,d=j}}};this.Hue=function(){return e};this.Saturation=function(){return g};this.Value=function(){return h};this.SetHexString=function(a){if(null==a||"string"!=typeof a)this.SetRGB(0,0,0);else if("#"==a.substr(0,1)&&(a=a.substr(1)),6!=a.length)this.SetRGB(0,0,0);else{var c=parseInt(a.substr(0,2),16),b=parseInt(a.substr(2,2),16),a=parseInt(a.substr(4,2),16);isNaN(c)||isNaN(b)||isNaN(a)?this.SetRGB(0,
0,0):this.SetRGB(c,b,a)}};this.HexString=function(){var a=this.Red().toString(16);1==a.length&&(a="0"+a);var c=this.Green().toString(16);1==c.length&&(c="0"+c);var b=this.Blue().toString(16);1==b.length&&(b="0"+b);return("#"+a+c+b).toUpperCase()};this.Complement=function(){var c=180<=e?e-180:e+180,b=h*(g-1)+1,d=h*g/b,i=new a;i.SetHSV(c,d,b);return i}}this.hashColor=[];this.getColorByScoreArrayValue=function(a){for(var b=[],d=0;d<a.length;d++){var e=this.getColorByScoreValue(a[d]);b.push(e)}return b};
this.getHexStringByScoreArrayValue=function(a){for(var a=this.getColorByScoreArrayValue(a),b=[],d=0;d<a.length;d++)b.push(a[d].HexString());return b};this.getColorByScoreValue=function(a){var b=a.toString().substr(0,4);if(null!=this.hashColor[b])return this.hashColor[b];if(isNaN(a))return Colors.ColorFromRGB(0,0,0);var d,e,g;0.5>a?(e=Colors.ColorFromRGB(0,0,255),g=Colors.ColorFromRGB(255,255,255),d=2*a):(e=Colors.ColorFromRGB(255,255,255),g=Colors.ColorFromRGB(255,0,0),d=2*a-1);a=d;d=1-d;e=Colors.ColorFromRGB(d*
e.Red()+a*g.Red(),d*e.Green()+a*g.Green(),d*e.Blue()+a*g.Blue());return this.hashColor[b]=e};this.ColorFromHSV=function(c,b,d){var e=new a;e.SetHSV(c,b,d);return e};this.ColorFromRGB=function(c,b,d){var e=new a;e.SetRGB(c,b,d);return e};this.ColorFromHex=function(c){var b=new a;b.SetHexString(c);return b}},Normalizer=new function(){this.normalizeArray=function(a){return this.standardizeArray(this.normal(a))};this.normal=function(a){var c=this._getMean(a),b=this._getStdDeviation(a);this._getMaxAndMin(a);
for(var d=[],e=0;e<a.length;e++)0!=b?d.push((a[e]-c)/b):d.push(a[e]);return d};this.standardizeArray=function(a){for(var c=this._getMaxAndMin(a),b=c[0],c=c[1],b=0>=b?Math.abs(b):-1*b,d=[],e=0;e<a.length;e++)0!=c+b?d.push((a[e]+b)/(c+b)):d.push(a[e]+b);return d};this._getMean=function(a){for(var c=0,b=0;b<a.length;b++)c+=parseFloat(a[b]);return c/a.length};this._getStdDeviation=function(a){for(var c=this._getMean(a),b=0,d=0;d<a.length;d++)b+=Math.pow(parseFloat(a[d])-c,2);return Math.sqrt(b/a.length)};
this._getMaxAndMin=function(a){for(var c=Number.MAX_VALUE,b=Number.MIN_VALUE,d=0;d<a.length;d++)a[d]<c&&(c=parseFloat(a[d])),a[d]>b&&(b=parseFloat(a[d]));return[c,b]}};function StringBuffer(){this.buffer=[]}StringBuffer.prototype.append=function(a){this.buffer.push(a);return this};StringBuffer.prototype.appendln=function(a){this.buffer.push(a+"\n");return this};StringBuffer.prototype.toString=function(){return this.buffer.join("")};
var SVG={addChild:function(a,c,b,d){var c=document.createElementNS("http://www.w3.org/2000/svg",c),e;for(e in b)c.setAttribute(e,b[e]);return this._insert(a,c,d)},addChildImage:function(a,c,b){var d=document.createElementNS("http://www.w3.org/2000/svg","image"),e;for(e in c)"xlink:href"==e&&d.setAttributeNS("http://www.w3.org/1999/xlink","href",c[e]),d.setAttribute(e,c[e]);return this._insert(a,d,b)},_insert:function(a,c,b){if(null==b)a.appendChild(c);else{var d=b+1;0==b&&(d=0);(b=a.childNodes[d])?
a.insertBefore(c,b):a.appendChild(c)}return c},init:function(a,c){return this.addChild(a,"svg",c)}},Geometry={getAngleBetweenTwoPoints:function(a,c,b,d){return Math.atan2(d-c,b-a)},getAdjacentSideOfRectangleRight:function(a,c){return Math.abs(Math.cos(a)*c)},getOppositeSideOfRectangleRight:function(a,c){return Math.abs(Math.sin(a)*c)},toDegree:function(a){return 180*a/Math.PI}};
